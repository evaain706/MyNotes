
# Front-Quiz 아키텍처 다이어그램

  

## 전체 시스템 구조

  

```mermaid

graph TB

    subgraph "Entry Point"

        main[main.tsx]

        App[App.tsx]

    end

  

    subgraph "Routing Layer"

        Router[React Router]

        Layout[Layout Component]

        ProtectedRoute[ProtectedRoute]

    end

  

    subgraph "Pages"

        LandingPage[LandingPage]

        MainPage[MainPage]

        OptionSelect[OptionSelect]

        Quiz[Quiz Page]

        CommunityPage[CommunityPage]

        MyPage[MyPage]

        KakaoCallback[KakaoCallback]

        NotFound[NotFound]

    end

  

    subgraph "Features"

        subgraph "Quiz Feature"

            QuizScreen[QuizScreen]

            QuestionCard[QuestionCard]

            OptionCard[OptionCard]

            ResultDisplay[ResultDisplay]

            useQuiz[useQuiz Hook]

        end

        subgraph "Community Feature"

            CommunityMain[CommunityMain]

            CommunityDetail[CommunityDetail]

            CommunityForm[CommunityForm]

            PostGrid[PostGrid]

            CommentList[CommentList]

            CommentForm[CommentForm]

            useCommunity[useCommunity Hook]

        end

        subgraph "MyPage Feature"

            MyPageMain[MyPageMain]

            UserStatistics[UserStatistics]

            UserSetting[UserSetting]

            IncorrectAnswer[IncorrectAnswer]

        end

    end

  

    subgraph "State Management"

        useUserStore[useUserStore<br/>User State]

        useQuizStore[useQuizStore<br/>Quiz State]

        useOptionStore[useOptionStore<br/>Option State]

        useToastStore[useToastStore<br/>Toast State]

    end

  

    subgraph "API Layer"

        instance[instance<br/>Public API]

        privateInstance[privateInstance<br/>Private API]

        kakaoAuthInstance[kakaoAuthInstance<br/>Kakao Auth]

    end

  

    subgraph "Components"

        Header[Header]

        Button[Button]

        Input[Input]

        Card[Card]

        Modal[Modal Components]

        Dropdown[Dropdown Components]

        Toast[Toast Components]

        Skeleton[Skeleton Components]

        ErrorBoundary[ErrorBoundary]

    end

  

    subgraph "Contexts"

        ModalContext[ModalContext]

        DropdownContext[DropdownContext]

    end

  

    subgraph "Hooks"

        useCheckIsLogin[useCheckIsLogin]

        useLogout[useLogout]

        useDebounce[useDebounce]

        useInfiniteScroll[useInfiniteScroll]

        useSearch[useSearch]

        useScroll[useScroll]

        useUploadImage[useUploadImage]

    end

  

    subgraph "Utils & Constants"

        Utils[Utils<br/>formatDate, cn, etc]

        Constants[Constants<br/>apiConstants, categoryList, etc]

        Types[Types<br/>Type Definitions]

    end

  

    main --> App

    App --> Router

    Router --> Layout

    Router --> LandingPage

    Router --> KakaoCallback

    Router --> NotFound

    Layout --> ProtectedRoute

    Layout --> Header

    Router --> MainPage

    Router --> OptionSelect

    Router --> Quiz

    Router --> CommunityPage

    Router --> MyPage

    ProtectedRoute --> MyPage

    Quiz --> QuizScreen

    QuizScreen --> QuestionCard

    QuizScreen --> OptionCard

    QuizScreen --> ResultDisplay

    QuizScreen --> useQuiz

    CommunityPage --> CommunityMain

    CommunityPage --> CommunityDetail

    CommunityPage --> CommunityForm

    CommunityMain --> PostGrid

    CommunityDetail --> CommentList

    CommunityDetail --> CommentForm

    CommunityDetail --> useCommunity

    MyPage --> MyPageMain

    MyPage --> UserStatistics

    MyPage --> UserSetting

    MyPage --> IncorrectAnswer

    useQuiz --> useQuizStore

    useQuiz --> useOptionStore

    useQuiz --> useUserStore

    useQuiz --> instance

    useQuiz --> privateInstance

    useCommunity --> instance

    useCommunity --> useToastStore

    ProtectedRoute --> useUserStore

    ProtectedRoute --> useToastStore

    Modal --> ModalContext

    Dropdown --> DropdownContext

    instance --> Constants

    privateInstance --> instance

    privateInstance --> useUserStore

    style main fill:#e1f5ff

    style App fill:#e1f5ff

    style useUserStore fill:#fff4e6

    style useQuizStore fill:#fff4e6

    style useOptionStore fill:#fff4e6

    style useToastStore fill:#fff4e6

    style instance fill:#f3e5f5

    style privateInstance fill:#f3e5f5

    style kakaoAuthInstance fill:#f3e5f5

```

  

## 데이터 흐름도

  

```mermaid

sequenceDiagram

    participant User

    participant Page

    participant Hook

    participant Store

    participant API

    participant Backend

  

    User->>Page: 액션 수행

    Page->>Hook: 이벤트 핸들러 호출

    Hook->>Store: 상태 업데이트

    Hook->>API: API 요청

    API->>Backend: HTTP Request

    Backend-->>API: Response

    API-->>Hook: 데이터 반환

    Hook->>Store: 상태 업데이트

    Store-->>Page: 상태 변경 알림

    Page-->>User: UI 업데이트

```

  

## 상태 관리 구조

  

```mermaid

graph LR

    subgraph "Zustand Stores"

        A[useUserStore<br/>- user: User<br/>- setUser<br/>- clearUser<br/>- updateUser]

        B[useQuizStore<br/>- quiz: Quiz<br/>- userAnswer<br/>- result<br/>- isLoading]

        C[useOptionStore<br/>- category<br/>- level<br/>- setCategory<br/>- setLevel]

        D[useToastStore<br/>- toasts<br/>- addToast<br/>- removeToast]

    end

    subgraph "사용처"

        E[ProtectedRoute]

        F[Quiz Feature]

        G[OptionSelect]

        H[전역 Toast]

    end

    A --> E

    A --> F

    B --> F

    C --> G

    D --> H

    style A fill:#fff4e6

    style B fill:#fff4e6

    style C fill:#fff4e6

    style D fill:#fff4e6

```

  

## API 인스턴스 구조

  

```mermaid

graph TB

    subgraph "API Instances"

        A[instance<br/>- Public API<br/>- Retry Logic<br/>- Error Handling]

        B[privateInstance<br/>- Private API<br/>- Token Refresh<br/>- withCredentials]

        C[kakaoAuthInstance<br/>- Kakao OAuth<br/>- withCredentials]

    end

    subgraph "Features"

        D[Quiz Feature]

        E[Community Feature]

        F[Auth Feature]

    end

    A --> D

    A --> E

    B --> D

    B --> E

    C --> F

    A -.->|extends| B

    style A fill:#f3e5f5

    style B fill:#f3e5f5

    style C fill:#f3e5f5

```

  

## 컴포넌트 계층 구조

  

```mermaid

graph TD

    subgraph "Layout Layer"

        Layout[Layout]

        Header[Header]

    end

    subgraph "Page Layer"

        MainPage[MainPage]

        QuizPage[Quiz Page]

        CommunityPage[CommunityPage]

        MyPage[MyPage]

    end

    subgraph "Feature Components"

        QuizScreen[QuizScreen]

        CommunityMain[CommunityMain]

        CommunityDetail[CommunityDetail]

    end

    subgraph "UI Components"

        Button[Button]

        Input[Input]

        Card[Card]

        Modal[Modal]

        Dropdown[Dropdown]

        Toast[Toast]

        Skeleton[Skeleton]

    end

    Layout --> Header

    Layout --> MainPage

    Layout --> QuizPage

    Layout --> CommunityPage

    Layout --> MyPage

    QuizPage --> QuizScreen

    CommunityPage --> CommunityMain

    CommunityPage --> CommunityDetail

    QuizScreen --> Button

    QuizScreen --> Card

    CommunityMain --> Card

    CommunityDetail --> Modal

    CommunityDetail --> Dropdown

    style Layout fill:#e1f5ff

    style MainPage fill:#e8f5e9

    style QuizPage fill:#e8f5e9

    style CommunityPage fill:#e8f5e9

    style MyPage fill:#e8f5e9

```

  

## 인증 및 보호된 라우트

  

```mermaid

graph LR

    A[User] -->|접근 시도| B[ProtectedRoute]

    B -->|user 확인| C{User 존재?}

    C -->|Yes| D[Protected Page]

    C -->|No| E[useToastStore<br/>경고 메시지]

    E --> F[Redirect to /main]

    G[KakaoCallback] -->|토큰 받기| H[kakaoAuthInstance]

    H -->|인증 성공| I[useUserStore<br/>setUser]

    I --> J[Redirect to /main]

    style B fill:#fff4e6

    style C fill:#ffebee

    style I fill:#fff4e6

```

  

## 주요 기능별 상세 구조

  

### Quiz Feature

```mermaid

graph TD

    A[Quiz Page] --> B[QuizScreen]

    B --> C[useQuiz Hook]

    C --> D[useQuizStore]

    C --> E[useOptionStore]

    C --> F[instance API]

    B --> G[QuestionCard]

    B --> H[OptionCard]

    B --> I[ResultDisplay]

    C -->|fetchQuiz| F

    C -->|handleSubmit| F

    C -->|handleAddStatistics| J[privateInstance]

    C -->|handleAddInCorrect| J

    style C fill:#e1f5ff

    style D fill:#fff4e6

    style E fill:#fff4e6

```

  

### Community Feature

```mermaid

graph TD

    A[CommunityPage] --> B[CommunityMain]

    A --> C[CommunityDetail]

    A --> D[CommunityForm]

    B --> E[PostGrid]

    C --> F[CommentList]

    C --> G[CommentForm]

    C --> H[PostCard]

    B --> I[useCommunity Hook]

    C --> I

    D --> I

    I --> J[instance API]

    I --> K[useToastStore]

    I --> L[React Query]

    style I fill:#e1f5ff

    style J fill:#f3e5f5

    style K fill:#fff4e6

```

  

### MyPage Feature

```mermaid

graph TD

    A[MyPage] --> B[MyPageMain]

    A --> C[UserStatistics]

    A --> D[UserSetting]

    A --> E[IncorrectAnswer]

    C --> F[StatisticGrid]

    C --> G[StatisticsCard]

    E --> H[AnswerHistoryCard]

    C --> I[useQuiz Hook<br/>getUserStatistics]

    E --> I

    E --> J[useQuiz Hook<br/>getIncorrectAnswers]

    I --> K[privateInstance]

    J --> K

    style I fill:#e1f5ff

    style K fill:#f3e5f5

```

  

## 기술 스택 및 의존성

  

```mermaid

graph TB

    subgraph "Core"

        React[React 19]

        ReactRouter[React Router v7]

        TypeScript[TypeScript]

    end

    subgraph "State Management"

        Zustand[Zustand]

        ReactQuery[TanStack React Query]

    end

    subgraph "HTTP Client"

        Axios[Axios]

    end

    subgraph "UI & Styling"

        TailwindCSS[Tailwind CSS v4]

        Motion[Motion]

    end

    subgraph "Forms"

        ReactHookForm[React Hook Form]

    end

    subgraph "Build Tool"

        Vite[Vite]

    end

    React --> ReactRouter

    React --> Zustand

    React --> ReactQuery

    React --> Axios

    React --> TailwindCSS

    React --> Motion

    React --> ReactHookForm

    Vite --> React

    style React fill:#61dafb

    style Zustand fill:#ff6b6b

    style ReactQuery fill:#ff4154

    style TailwindCSS fill:#06b6d4

```